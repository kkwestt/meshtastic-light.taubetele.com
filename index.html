<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Простая Yandex карта" />
    <script>
      // Загружаем Yandex Maps API
      window.loadYandexMaps = function () {
        return new Promise((resolve, reject) => {
          if (window.ymaps) {
            resolve(window.ymaps);
            return;
          }

          const script = document.createElement("script");
          const apiKey = import.meta.env.VITE_YANDEX_MAPS_API_KEY || 'your_api_key_here';
          script.src = `https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=${apiKey}`;
          script.async = true;

          script.onload = () => {
            if (window.ymaps) {
              console.info("✅ Yandex Maps API успешно загружен");
              resolve(window.ymaps);
            } else {
              reject(new Error("Yandex Maps API не загружен"));
            }
          };

          script.onerror = () => {
            console.warn("❌ Ошибка загрузки Yandex Maps API");
            reject(new Error("Ошибка загрузки Yandex Maps API"));
          };

          document.head.appendChild(script);
        });
      };
    </script>
    <title>Простая Yandex карта</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
